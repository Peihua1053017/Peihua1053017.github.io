! function () {
    "use strict";
    new Vue({
        el: "#app",
        data: {
            gas: "https://script.google.com/macros/s/AKfycbzJPK-0y3gKNLsrm4tnp9EO8sIMApXBIlj-R6YeCpxLjiKEHqHQ_Ibu3n6aUGWHh2B7Cw/exec",
            id: "",
            persons: {},
            person: {},
            formAction: "https://docs.google.com/forms/u/0/d/e/1FAIpQLSdsgSI71MDy_Gif0VDg4gxvhJBy2zLYSSPHXSGClKLFeo1bcg/formResponse",
            input: {
                id: "entry.1438388827",
                name: "entry.1063781205",
                gender: "entry.1445490702",
                msg: "entry.953227431"
            },
            loading: !1
        },
        methods: {
            limitIdLen: function (t) {
                if (t.length > 5) return this.id = this.id.slice(0, 5)
            },
            submit: function () {
                var t = this;
                if (void 0 !== this.person.name) {
                    var n = "".concat(this.input.id, "=").concat(this.person.id, "&").concat(this.input.name, "=").concat(this.person.name, "&").concat(this.input.gender, "=").concat(this.person.gender, "&").concat(this.input.msg, "=").concat(this.person.msg || "無");
                    fetch(this.formAction + "?" + n, {
                        method: "GET"
                    }).catch((function (n) {
                        alert("已提交。"), t.id = "", t.person = {}
                        //(如果有錯無法辨認，因不同網域一定有錯誤產生，但資料仍會傳送)
                    }))
                }
            }
        },
        watch: {
            id: function (t) {
                var n = this;
                if (5 === t.length) {
                    if (void 0 === this.persons[this.id]) {
                        this.loading = !0;
                        var i = this.gas + "?id=" + this.id;
                        fetch(i, {
                            method: "POST"
                        }).then((function (t) {
                            return t.json()
                        })).then((function (t) {
                            if (Object.keys(t).length === 0) {
                                alert('不在參加名單');
                            } 
                             n.persons[n.id] = t, n.person = t, n.loading = !1;
                        }))
                    } else  this.person = this.persons[this.id];
                }
            }
        }
    })
}();